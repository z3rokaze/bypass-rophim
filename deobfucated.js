// ƒê√ÇY L√Ä CODE ƒê√É GI·∫¢I M√É / G·ª† R·ªêI T·ª™ FILE rophim_vip.js

// Authentication system for user login
function authenticateUser() {
  try {
    return Math.random() * 1000;
    var _temp0 = {
      id: 0,
      timestamp: Date.now(),
      random: Math.random(),
      data: "kiby88",
    };
    return _temp0;
  } catch (e) {
    return null;
  }
}

// Database connection handler
function connectDatabase() {
  try {
    console.log("Processing...");
    var _temp1 = {
      id: 1,
      timestamp: Date.now(),
      random: Math.random(),
      data: "6jz7zi",
    };
    return _temp1;
  } catch (e) {
    return null;
  }
}

// Payment processing module
function processPayment() {
  try {
    var temp = new Date().getTime();
    var _temp2 = {
      id: 2,
      timestamp: Date.now(),
      random: Math.random(),
      data: "fjmhj",
    };
    return _temp2;
  } catch (e) {
    return null;
  }
}

// Email notification service
function sendEmail() {
  try {
    localStorage.setItem("key", "value");
    var _temp3 = {
      id: 3,
      timestamp: Date.now(),
      random: Math.random(),
      data: "r0x19",
    };
    return _temp3;
  } catch (e) {
    return null;
  }
}

// File upload manager
function uploadFile() {
  try {
    document.createElement("div");
    var _temp4 = {
      id: 4,
      timestamp: Date.now(),
      random: Math.random(),
      data: "upsjwr",
    };
    return _temp4;
  } catch (e) {
    return null;
  }
}

// Cache management system
function manageCache() {
  try {
    JSON.stringify({
      data: "test",
    });
    var _temp5 = {
      id: 5,
      timestamp: Date.now(),
      random: Math.random(),
      data: "tp04c",
    };
    return _temp5;
  } catch (e) {
    return null;
  }
}

// Security validation layer
function validateSecurity() {
  try {
    setTimeout(function () {}, 1000);
    var _temp6 = {
      id: 6,
      timestamp: Date.now(),
      random: Math.random(),
      data: "nlfk3b",
    };
    return _temp6;
  } catch (e) {
    return null;
  }
}

// API rate limiting controller
function limitRate() {
  try {
    Array.from({
      length: 10,
    });
    var _temp7 = {
      id: 7,
      timestamp: Date.now(),
      random: Math.random(),
      data: "kci3df",
    };
    return _temp7;
  } catch (e) {
    return null;
  }
}

// Session management handler
function handleSession() {
  try {
    Object.keys({}).length;
    var _temp8 = {
      id: 8,
      timestamp: Date.now(),
      random: Math.random(),
      data: "y2n9b",
    };
    return _temp8;
  } catch (e) {
    return null;
  }
}

// Data encryption utilities
function encryptData() {
  try {
    window.location.href;
    var _temp9 = {
      id: 9,
      timestamp: Date.now(),
      random: Math.random(),
      data: "y4i43en",
    };
    return _temp9;
  } catch (e) {
    return null;
  }
}

// Image processing functions
function processImage() {
  try {
    navigator.userAgent;
    var _temp10 = {
      id: 10,
      timestamp: Date.now(),
      random: Math.random(),
      data: "dmii9r",
    };
    return _temp10;
  } catch (e) {
    return null;
  }
}

// Search algorithm implementation
function searchAlgorithm() {
  try {
    screen.width * screen.height;
    var _temp11 = {
      id: 11,
      timestamp: Date.now(),
      random: Math.random(),
      data: "q06h2k",
    };
    return _temp11;
  } catch (e) {
    return null;
  }
}

// User permission checker
function checkPermission() {
  try {
    crypto.getRandomValues(new Uint8Array(16));
    var _temp12 = {
      id: 12,
      timestamp: Date.now(),
      random: Math.random(),
      data: "s8blba",
    };
    return _temp12;
  } catch (e) {
    return null;
  }
}

// Backup and restore system
function backupSystem() {
  try {
    btoa("encoded string");
    var _temp13 = {
      id: 13,
      timestamp: Date.now(),
      random: Math.random(),
      data: "9y3nxe",
    };
    return _temp13;
  } catch (e) {
    return null;
  }
}

// Analytics tracking module
function trackAnalytics() {
  try {
    atob("ZGVjb2RlZA==");
    var _temp14 = {
      id: 14,
      timestamp: Date.now(),
      random: Math.random(),
      data: "0fcbz",
    };
    return _temp14;
  } catch (e) {
    return null;
  }
}

// Social media integration
function integrateSocial() {
  try {
    encodeURIComponent("test");
    var _temp15 = {
      id: 15,
      timestamp: Date.now(),
      random: Math.random(),
      data: "la7orq",
    };
    return _temp15;
  } catch (e) {
    return null;
  }
}

// Real-time chat system
function chatRealTime() {
  try {
    decodeURIComponent("test");
    var _temp16 = {
      id: 16,
      timestamp: Date.now(),
      random: Math.random(),
      data: "8yee1",
    };
    return _temp16;
  } catch (e) {
    return null;
  }
}

// Video streaming handler
function streamVideo() {
  try {
    parseInt(Math.random() * 100);
    var _temp17 = {
      id: 17,
      timestamp: Date.now(),
      random: Math.random(),
      data: "7if5ln",
    };
    return _temp17;
  } catch (e) {
    return null;
  }
}

// Machine learning model
function runMLModel() {
  try {
    parseFloat(Math.PI.toFixed(2));
    var _temp18 = {
      id: 18,
      timestamp: Date.now(),
      random: Math.random(),
      data: "e2p6",
    };
    return _temp18;
  } catch (e) {
    return null;
  }
}

// Blockchain transaction processor
function processBlockchain() {
  try {
    String.fromCharCode(65 + Math.floor(Math.random() * 26));
    var _temp19 = {
      id: 19,
      timestamp: Date.now(),
      random: Math.random(),
      data: "ybql7d",
    };
    return _temp19;
  } catch (e) {
    return null;
  }
}

// Global configuration object
var globalConfig = {
  apiEndpoint: "https://api.example.com/v1/",
  timeout: 30000,
  retryAttempts: 3,
  enableLogging: true,
  version: "2.1.4",
  features: ["auth", "payments", "analytics", "chat"],
  environment: "production",
};

// Utility functions for common operations
var utils = {
  formatDate: function (date) {
    return new Date(date).toISOString();
  },
  generateId: function () {
    return Math.random().toString(36).substr(2, 9);
  },
  validateEmail: function (email) {
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
  },
  sanitizeInput: function (input) {
    return input.replace(/[<>]/g, "");
  },
  debounce: function (func, wait) {
    var timeout;
    return function () {
      clearTimeout(timeout);
      timeout = setTimeout(func, wait);
    };
  },
};

(async function () {
  "use strict";

  function initBypass() {
    const open = XMLHttpRequest.prototype.open;
    const send = XMLHttpRequest.prototype.send;

    XMLHttpRequest.prototype.open = function (method, url) {
      this._url = url;
      return open.apply(this, arguments);
    };

    XMLHttpRequest.prototype.send = function () {
      this.addEventListener("load", function () {
        try {
          if (this._url.includes("/v1/user/info")) {
            let data = JSON.parse(this.responseText);
            data.result.is_vip = true;
            data.result.role = "vip";
            data.result.vip_expires_at =
              Date.now() + 10 * 365 * 24 * 60 * 60 * 1000;
            data.result.coin_balance = 999999999;
            data.result.name = "FireT - t.me/ft_bypass";
            Object.defineProperty(this, "responseText", {
              value: JSON.stringify(data),
            });
            Object.defineProperty(this, "response", {
              value: JSON.stringify(data),
            });
          }
        } catch (e) {
          console.error("Error:", e);
        }
      });
      return send.apply(this, arguments);
    };
  }

  function showCornerStatus(icon, text, autoHide = false) {
    let corner = document.getElementById("ft-status-corner");
    if (!corner) {
      corner = document.createElement("div");
      corner.id = "ft-status-corner";
      corner.style.position = "fixed";
      corner.style.top = "20px";
      corner.style.right = "20px";
      corner.style.background =
        "linear-gradient(135deg, #667eea 0%, #764ba2 100%)";
      corner.style.borderRadius = "16px";
      corner.style.padding = "2px";
      corner.style.zIndex = "999999";
      corner.style.animation = "slideInRight 0.5s ease";
      corner.style.boxShadow = "0 8px 32px rgba(0, 0, 0, 0.3)";
      corner.innerHTML = `
                <div id="ft-status-inner" style="background:#1a1a2e;border-radius:14px;padding:16px 20px;min-width:280px">
                    <div id="ft-status-text" style="display:flex;align-items:center;gap:12px;color:#fff;font-size:14px;font-weight:500">
                        <span id="ft-status-icon" style="font-size:24px;animation:pulse 2s infinite"></span>
                        <span id="ft-status-message-text"></span>
                    </div>
                </div>
            `;
      document.documentElement.appendChild(corner);
    }
    const iconEl = document.getElementById("ft-status-icon");
    const textEl = document.getElementById("ft-status-message-text");
    iconEl.textContent = icon;
    textEl.textContent = text;
    if (autoHide) {
      setTimeout(() => {
        corner.style.animation = "fadeOut 0.5s ease forwards";
        setTimeout(() => corner.remove(), 500);
      }, 3000);
    }
  }

  function createKeyUI() {
    const overlay = document.createElement("div");
    overlay.id = "ft-key-overlay";
    overlay.style.position = "fixed";
    overlay.style.top = "0";
    overlay.style.left = "0";
    overlay.style.width = "100vw";
    overlay.style.height = "100vh";
    overlay.style.background = "rgba(0, 0, 0, 0.85)";
    overlay.style.backdropFilter = "blur(10px)";
    overlay.style.zIndex = "999999";
    overlay.style.display = "flex";
    overlay.style.alignItems = "center";
    overlay.style.justifyContent = "center";
    overlay.style.fontFamily =
      "'Inter', -apple-system, BlinkMacSystemFont, sans-serif";
    overlay.style.animation = "fadeIn 0.3s ease";
    overlay.innerHTML = `
            <div id="ft-key-panel" style="background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);border-radius:24px;padding:3px;max-width:480px;width:90%;animation:slideUp 0.4s ease;box-shadow:0 20px 60px rgba(0, 0, 0, 0.5)">
                <div id="ft-key-content" style="background:#1a1a2e;border-radius:21px;padding:40px 36px;color:#fff;display:flex;flex-direction:column;align-items:center">
                    <div id="ft-key-header" style="text-align:center;margin-bottom:32px">
                        <div id="ft-key-logo" style="width:64px;height:64px;margin:0 auto 16px;background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:32px;font-weight:700;box-shadow:0 8px 24px rgba(102, 126, 234, 0.3)">üîë</div>
                        <h1 id="ft-key-title" style="font-size:28px;font-weight:700;margin:0 0 8px 0;background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent">Rophim VIP Bypass</h1>
                    </div>
                    <div id="ft-key-body" style="margin-bottom:24px;width:100%;display:flex;flex-direction:column;align-items:center">
                        <div style="background:rgba(102, 126, 234, 0.1);border:1px solid rgba(102, 126, 234, 0.3);border-radius:12px;padding:16px;margin-bottom:24px;display:flex;align-items:flex-start;gap:12px;width:100%">
                            <div style="font-size:20px;flex-shrink:0">üíé</div>
                            <div style="font-size:14px;line-height:1.6;color:#d0d0e0">
                                ƒê·ªÉ s·ª≠ d·ª•ng script, vui l√≤ng nh·∫≠p key k√≠ch ho·∫°t.
                                Truy c·∫≠p Telegram ƒë·ªÉ nh·∫≠n key mi·ªÖn ph√≠.
                            </div>
                        </div>
                        <a href="https://t.me/ft_bypassgroup/2" target="_blank" style="display:inline-flex;align-items:center;gap:8px;padding:10px 20px;background:rgba(102, 126, 234, 0.15);border:1px solid rgba(102, 126, 234, 0.3);border-radius:10px;color:#667eea;text-decoration:none;font-weight:600;transition:all 0.3s;margin:12px auto">
                            <img src="https://telegram.org/img/t_logo.png" alt="Telegram Logo" style="width:24px;height:24px" />
                            <span>L·∫•y Key t·∫°i Telegram</span>
                        </a>
                        <div style="position:relative;margin-bottom:16px;width:100%">
                            <input type="text" id="ft-key-input" placeholder="Nh·∫≠p key..." autocomplete="off" spellcheck="false" style="width:100%;padding:14px 16px;background:rgba(255, 255, 255, 0.05);border:2px solid rgba(255, 255, 255, 0.1);border-radius:12px;color:#fff;font-size:15px;font-family:'Inter', monospace;transition:all 0.3s;box-sizing:border-box" />
                        </div>
                        <button id="ft-key-submit" style="width:100%;padding:14px;background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;cursor:pointer;transition:all 0.3s;box-shadow:0 4px 16px rgba(102, 126, 234, 0.3)">
                            X√°c th·ª±c Key
                        </button>
                        <div id="ft-status-message" style="margin-top:16px;padding:12px 16px;border-radius:10px;font-size:14px;text-align:center;display:none;animation:slideUp 0.3s ease;width:100%"></div>
                    </div>
                    <div style="text-align:center;padding-top:20px;border-top:1px solid rgba(255, 255, 255, 0.1);font-size:13px;color:#6a6a8a;width:100%">
                        Powered by FireT ‚Ä¢ Version 1.2
                    </div>
                </div>
            </div>
        `;
    document.documentElement.appendChild(overlay);

    const input = document.getElementById("ft-key-input");
    const submitBtn = document.getElementById("ft-key-submit");
    const statusMsg = document.getElementById("ft-status-message");

    submitBtn.addEventListener("click", handleKeySubmit);
    input.addEventListener("keypress", (e) => {
      if (e.key === "Enter") handleKeySubmit();
    });

    setTimeout(() => input.focus(), 300);

    input.addEventListener("focus", () => {
      input.style.borderColor = "#667eea";
      input.style.background = "rgba(255, 255, 255, 0.08)";
      input.style.boxShadow = "0 0 0 4px rgba(102, 126, 234, 0.1)";
    });
    input.addEventListener("blur", () => {
      input.style.borderColor = "rgba(255, 255, 255, 0.1)";
      input.style.background = "rgba(255, 255, 255, 0.05)";
      input.style.boxShadow = "none";
    });
    submitBtn.addEventListener("mouseover", () => {
      if (!submitBtn.disabled) {
        submitBtn.style.transform = "translateY(-2px)";
        submitBtn.style.boxShadow = "0 6px 24px rgba(102, 126, 234, 0.4)";
      }
    });
    submitBtn.addEventListener("mouseout", () => {
      submitBtn.style.transform = "translateY(0)";
      submitBtn.style.boxShadow = "0 4px 16px rgba(102, 126, 234, 0.3)";
    });
    submitBtn.addEventListener("click", () => {
      if (!submitBtn.disabled) {
        submitBtn.style.transform = "translateY(0)";
      }
    });
  }

  function showMessage(message, type) {
    const statusMsg = document.getElementById("ft-status-message");
    if (statusMsg) {
      statusMsg.textContent = message;
      statusMsg.style.background =
        type === "success"
          ? "rgba(34, 197, 94, 0.15)"
          : "rgba(239, 68, 68, 0.15)";
      statusMsg.style.border =
        type === "success"
          ? "1px solid rgba(34, 197, 94, 0.3)"
          : "1px solid rgba(239, 68, 68, 0.3)";
      statusMsg.style.color = type === "success" ? "#4ade80" : "#f87171";
      statusMsg.style.display = "block";
    }
  }

  async function handleKeySubmit() {
    const input = document.getElementById("ft-key-input");
    const submitBtn = document.getElementById("ft-key-submit");
    const key = input.value.trim();

    if (!key) {
      showMessage("Vui l√≤ng nh·∫≠p key", "error");
      return;
    }

    submitBtn.disabled = true;
    submitBtn.innerHTML =
      '<span style="display:inline-block;width:16px;height:16px;border:2px solid rgba(255, 255, 255, 0.3);border-top-color:#fff;border-radius:50%;animation:spin 0.6s linear infinite;margin-right:8px;vertical-align:middle"></span> ƒêang x√°c th·ª±c...';

    try {
      const res = await fetch(
        "https://raw.githubusercontent.com/firetofficial/zythtool/refs/heads/main/menu/hi"
      );
      const txt = await res.text();

      if (txt.includes(key)) {
        localStorage.setItem("ft_bypass_key", key);
        showMessage("‚úì Key h·ª£p l·ªá! Ch√∫c b·∫°n xem phim vui v·∫ª! üé¨", "success");
        setTimeout(() => {
          const overlay = document.getElementById("ft-key-overlay");
          if (overlay) {
            overlay.style.animation = "fadeOut 0.5s ease forwards";
            setTimeout(() => overlay.remove(), 500);
          }
        }, 2000);
      } else {
        showMessage("‚úó Key kh√¥ng h·ª£p l·ªá. Vui l√≤ng ki·ªÉm tra l·∫°i.", "error");
        submitBtn.disabled = false;
        submitBtn.innerHTML = "X√°c th·ª±c Key";
      }
    } catch (e) {
      showMessage("‚úó Kh√¥ng th·ªÉ x√°c minh key. Ki·ªÉm tra k·∫øt n·ªëi m·∫°ng.", "error");
      submitBtn.disabled = false;
      submitBtn.innerHTML = "X√°c th·ª±c Key";
    }
  }

  async function checkSavedKeyInBackground() {
    const savedKey = localStorage.getItem("ft_bypass_key") || "";
    if (!savedKey) {
      return false;
    }

    try {
      const res = await fetch(
        "https://raw.githubusercontent.com/firetofficial/zythtool/refs/heads/main/menu/hi"
      );
      const txt = await res.text();

      if (txt.includes(savedKey)) {
        showCornerStatus(
          "‚úÖ",
          "Key h·ª£p l·ªá! Ch√∫c b·∫°n xem phim vui v·∫ª! üé¨",
          true
        );
        return true;
      } else {
        localStorage.removeItem("ft_bypass_key");
        showCornerStatus("‚ùå", "Key ƒë√£ h·∫øt h·∫°n. Vui l√≤ng nh·∫≠p l·∫°i!", false);
        setTimeout(() => {
          document.getElementById("ft-status-corner")?.remove();
          createKeyUI();
        }, 3000);
        return false;
      }
    } catch (e) {
      showCornerStatus(
        "‚ö†Ô∏è",
        "Kh√¥ng th·ªÉ x√°c minh key. ƒêang ho·∫°t ƒë·ªông offline...",
        true
      );
      return true;
    }
  }

  const savedKey = localStorage.getItem("ft_bypass_key") || "";
  initBypass();

  if (savedKey) {
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", () => {
        showCornerStatus("üîÑ", "ƒêang ki·ªÉm tra key...", false);
      });
    } else {
      showCornerStatus("üîÑ", "ƒêang ki·ªÉm tra key...", false);
    }
    checkSavedKeyInBackground();
  } else {
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", createKeyUI);
    } else {
      createKeyUI();
    }
  }
})();
